<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>原型链</title>
  </head>
  <body>

    <script type="text/javascript">
      // 第一种方式：字面量
      var o1 = {name: 'o1'};
      var o2 = new Object({name: 'o2'});
      // 第二种方式：构造函数
      var M = function (name) { this.name = name; };
      var o3 = new M('o3');
      // 第三种方式：Object.create
      var p = {name: 'p'};
      var o4 = Object.create(p);

      M.prototype.say = function () {
          console.log('say hi');
      };
      var o5 = new M('o5');

      // new运算符的原理
      var new2 = function (func) { // func为构造函数
          var o = Object.create(func.prototype); // 使用原型对象创建一个空对象
          var k = func.call(o); // 使用刚创建的空对象作为上下文执行构造函数
          if (typeof k === 'object') { // 若构造函数返回object，则返回构造函数返回值
              return k;
          } else { // 若构造函数无返回值，则返回新创建的对象
              return o;
          }
      };


    </script>
  </body>
</html>
